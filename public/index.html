<!DOCTYPE html>
<html lang="ku" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ڕێبوار تەها</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@300;400;700&display=swap" rel="stylesheet">
    <style>
        :root { --c-text: #e2e8f0; --c-text-muted: #94a3b8; --c-accent: #38bdf8; --c-bg-blur: rgba(15, 23, 42, 0.6 ); --c-border: rgba(56, 189, 248, 0.2); --c-shadow: rgba(56, 189, 248, 0.25); --c-success: #4ade80; --c-error: #f87171; }
        *, *::before, *::after { box-sizing: border-box; }
        body { font-family: 'Vazirmatn', sans-serif; margin: 0; display: grid; place-items: center; min-height: 100vh; color: var(--c-text); background-color: #020617; overflow: hidden; position: relative; padding: 20px; }
        .gradient-bg { width: 100%; height: 100%; position: absolute; overflow: hidden; top: 0; left: 0; z-index: -1; filter: blur(80px); }
        @keyframes rotate { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
        .gradient-bg .g1 { position: absolute; background: #0ea5e9; width: 400px; height: 400px; border-radius: 50%; top: 10%; left: 10%; animation: rotate 25s cubic-bezier(0.8, 0.2, 0.2, 0.8) alternate infinite; }
        .gradient-bg .g2 { position: absolute; background: #ec4899; width: 350px; height: 350px; border-radius: 50%; bottom: 15%; right: 5%; animation: rotate 20s cubic-bezier(0.1, 0.7, 0.9, 0.3) alternate infinite; }
        .gradient-bg .g3 { position: absolute; background: #8b5cf6; width: 300px; height: 300px; border-radius: 50%; top: 25%; right: 20%; animation: rotate 15s cubic-bezier(0.4, 0.1, 0.6, 0.9) alternate infinite; }
        .container { width: 100%; max-width: 500px; padding: 30px; text-align: center; border-radius: 24px; background: var(--c-bg-blur); backdrop-filter: blur(16px); -webkit-backdrop-filter: blur(16px); border: 1px solid var(--c-border); box-shadow: 0 10px 40px 0 rgba(0, 0, 0, 0.3), 0 0 80px 0 var(--c-shadow) inset; transform: translateY(20px); opacity: 0; animation: fadeIn 1s 0.2s forwards cubic-bezier(0.2, 0.8, 0.2, 1); }
        @keyframes fadeIn { to { transform: translateY(0); opacity: 1; } }
        .animate-child { transform: translateY(20px); opacity: 0; animation: fadeIn 0.8s forwards cubic-bezier(0.2, 0.8, 0.2, 1); }
        .profile-pic { animation-delay: 0.3s; width: 120px; height: 120px; border-radius: 50%; object-fit: cover; border: 3px solid var(--c-accent); margin-bottom: 15px; box-shadow: 0 0 25px var(--c-shadow); }
        h1 { animation-delay: 0.4s; font-size: 2rem; margin: 0 0 5px; font-weight: 700; text-shadow: 0 0 15px var(--c-shadow); }
        .subtitle { animation-delay: 0.5s; color: var(--c-text-muted); font-size: 1.1rem; margin-bottom: 25px; font-weight: 300; }
        form { animation-delay: 0.6s; }
        textarea { width: 100%; background: rgba(0, 0, 0, 0.25); border: 1px solid var(--c-border); border-radius: 12px; padding: 15px; font-family: inherit; font-size: 1rem; color: var(--c-text); min-height: 100px; resize: none; margin-bottom: 15px; transition: all 0.3s cubic-bezier(0.2, 0.8, 0.2, 1); }
        textarea::placeholder { color: var(--c-text-muted); opacity: 0.8; }
        textarea:focus { outline: none; border-color: var(--c-accent); background: rgba(0, 0, 0, 0.4); box-shadow: 0 0 20px var(--c-shadow); transform: scale(1.02); min-height: 140px; }
        button { width: 100%; background: var(--c-accent); color: #020617; border: none; padding: 16px; border-radius: 12px; font-family: inherit; font-size: 1.1rem; font-weight: 700; cursor: pointer; transition: all 0.3s cubic-bezier(0.2, 0.8, 0.2, 1); }
        button:hover { transform: scale(1.05); }
        button:active { transform: scale(0.98); }
        button:disabled { background-color: #475569; color: #94a3b8; cursor: not-allowed; }
        .response-message { font-size: 1rem; font-weight: bold; margin-top: 20px; padding: 10px; border-radius: 8px; opacity: 0; transform: translateY(10px); transition: all 0.4s ease-out; display: none; }
        .response-message.show { display: block; opacity: 1; transform: translateY(0); }
        .response-message.success { background-color: rgba(74, 222, 128, 0.2); color: var(--c-success); }
        .response-message.error { background-color: rgba(248, 113, 113, 0.2); color: var(--c-error); }
    </style>
</head>
<body>
    <div class="gradient-bg"> <div class="g1"></div> <div class="g2"></div> <div class="g3"></div> </div>
    <div class="container">
        <img src="imageRebwar.jpg" alt="وێنەی ڕێبوار تەها" class="profile-pic animate-child">
        <h1 class="animate-child">ڕێبوار تەها</h1>
        <p class="subtitle animate-child">چیت هەیە بۆ ڕێبوار تەها؟</p>
        <form id="feedbackForm" class="animate-child">
            <textarea name="feedback" placeholder="...پەیامەکەت لێرە بنووسە" required></textarea>
            <button type="submit">ناردن</button>
        </form>
        <p id="response" class="response-message"></p>
    </div>
    <script>
        const form = document.getElementById('feedbackForm');
        const responseEl = document.getElementById('response');
        form.addEventListener('submit', async (e) => {
            e.preventDefault();
            const feedback = e.target.elements.feedback.value;
            const button = form.querySelector('button');
            button.disabled = true;
            button.textContent = '...ناردن';
            responseEl.classList.remove('show', 'success', 'error');
            try {
                const res = await fetch('/api/telegram', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ message: feedback })
                });
                const result = await res.json();
                if (res.ok) {
                    responseEl.textContent = "پەیامەکەت بە سەرکەوتوویی نێردرا، سوپاس!";
                    responseEl.className = 'response-message success show';
                    form.reset();
                } else {
                    throw new Error(result.error || 'هەڵەیەک ڕوویدا');
                }
            } catch (error) {
                responseEl.textContent = `هەڵە: ${error.message}`;
                responseEl.className = 'response-message error show';
            } finally {
                button.disabled = false;
                button.textContent = 'ناردن';
                setTimeout(() => responseEl.classList.remove('show'), 5000);
            }
        });
    </script>
</body>
</html>
